<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>A Study of Po | Knows Fun</title><meta name=keywords content><meta name=description content="#language #learn #translation
We’ll talk about the GNU Gettext and the PO format here.
1. Why do we need to talk about this?
I have been working on the openATTIC project for almost two months, from building the environment of a small Ceph cluster (5 nodes), to writing the openATTIC RESTful API documentation (UPDATE: Ceph dashboard has replaced openATTIC in SUSE-SES-6 product, check this site for ceph dashboard API documentation ), and now merging two ‘branches’ of different features: one I call ‘enhanced’, and another ‘base’ (which is actually the master branch of the oA project)."><meta name=author content="Lin Liu"><link rel=canonical href=https://notes.linknows.fun/posts/a-study-of-po/><link crossorigin=anonymous href=/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://notes.linknows.fun/assets/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://notes.linknows.fun/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://notes.linknows.fun/favicon-32x32.png><link rel=apple-touch-icon href=https://notes.linknows.fun/apple-touch-icon.png><link rel=mask-icon href=https://notes.linknows.fun/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://notes.linknows.fun/posts/a-study-of-po/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://notes.linknows.fun/posts/a-study-of-po/"><meta property="og:site_name" content="Knows Fun"><meta property="og:title" content="A Study of Po"><meta property="og:description" content="#language #learn #translation
We’ll talk about the GNU Gettext and the PO format here.
1. Why do we need to talk about this? I have been working on the openATTIC project for almost two months, from building the environment of a small Ceph cluster (5 nodes), to writing the openATTIC RESTful API documentation (UPDATE: Ceph dashboard has replaced openATTIC in SUSE-SES-6 product, check this site for ceph dashboard API documentation ), and now merging two ‘branches’ of different features: one I call ‘enhanced’, and another ‘base’ (which is actually the master branch of the oA project)."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-12-17T00:00:00+08:00"><meta property="article:modified_time" content="2018-12-17T00:00:00+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="A Study of Po"><meta name=twitter:description content="#language #learn #translation
We’ll talk about the GNU Gettext and the PO format here.
1. Why do we need to talk about this?
I have been working on the openATTIC project for almost two months, from building the environment of a small Ceph cluster (5 nodes), to writing the openATTIC RESTful API documentation (UPDATE: Ceph dashboard has replaced openATTIC in SUSE-SES-6 product, check this site for ceph dashboard API documentation ), and now merging two ‘branches’ of different features: one I call ‘enhanced’, and another ‘base’ (which is actually the master branch of the oA project)."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://notes.linknows.fun/posts/"},{"@type":"ListItem","position":2,"name":"A Study of Po","item":"https://notes.linknows.fun/posts/a-study-of-po/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"A Study of Po","name":"A Study of Po","description":"#language #learn #translation\nWe’ll talk about the GNU Gettext and the PO format here.\n1. Why do we need to talk about this? I have been working on the openATTIC project for almost two months, from building the environment of a small Ceph cluster (5 nodes), to writing the openATTIC RESTful API documentation (UPDATE: Ceph dashboard has replaced openATTIC in SUSE-SES-6 product, check this site for ceph dashboard API documentation ), and now merging two ‘branches’ of different features: one I call ‘enhanced’, and another ‘base’ (which is actually the master branch of the oA project).\n","keywords":[],"articleBody":"#language #learn #translation\nWe’ll talk about the GNU Gettext and the PO format here.\n1. Why do we need to talk about this? I have been working on the openATTIC project for almost two months, from building the environment of a small Ceph cluster (5 nodes), to writing the openATTIC RESTful API documentation (UPDATE: Ceph dashboard has replaced openATTIC in SUSE-SES-6 product, check this site for ceph dashboard API documentation ), and now merging two ‘branches’ of different features: one I call ‘enhanced’, and another ‘base’ (which is actually the master branch of the oA project).\nOne significant difference is the ‘enhanced’ branch is a hard-coded translated version, the translations appear directly in the source code file (almost in every html file under the /webui directory). Although these translations are good enough, well, much more better than the google translation result, but it’s not a good way for the i18n(internationalization), especially for this ‘international’ project.\nSo here comes the GNU Gettext and the PO format files, this is the way the master branch do, and you could find these files under the /webui/locale/ directory. They exist for this situation, where you would like to write a program in your native language, not only English, and the program should be ‘translatable’, which means any other translators can easily contribute for other versions.\nIn a word, the PO format file is a place where you put your translation in your language, and you can just pay a little attention to your source code file in order to internationlize a program. Easy, and elegant!\n2. What are Gettext and PO file? The GNU `gettext’ utilities are a set of tools that provides a framework to help other GNU packages produce multi-lingual messages.\nSo, Gettext is a system which helps us for the translation. And the translation file format it defines, is just the PO format.\n3. Basic syntax of the PO format file Example:\n#: finddialog.cpp:39 msgid \"Gaseous Nebulae\" msgstr \"Gasne magline\"` Such a snippet is also called a message, a .po file is just a group of messages.\nThe first line is the source reference comment, which is a line staring with #: above the msgid “…” line. “It tells from which source file of the program code (or source document of any kind), and the line in that source file.”\nThe msgid string is follwed by the original string, which you want to translate into another language, and which are wrapped in double quotes.\nThe keyword msgstr denotes then the string which to become the translation, and you see, also double-quoted.\n3.1 String wrapping If a message to be translated is long, you can just wrap the original and translation strings like this example below:\n#: indimenu.cpp:96 msgid \"\" \"No INDI devices (...)\" \"(...) in the devices menu.\" msgstr \"\" \"Nema INDI uređaja (...) u meniju uređaja.\" To be continued… Thoughts:\nWhen you modified a html file, if the position of the ‘translate’ tag changed, then you need to correct the .po file as well. This is inconvenient if we want to add more features in the future. -\u003e Q: Is there any solution ? In Angular, the i18n support is well designed, you can use Angular CLI to ‘extract localizable text into a file that you can send out to be translated’. That means you can just collect all those strings to be translated with several commands (or just one?), this greatly free you from doing this manually. Check here for more details about how to make your app available in multiple languages. References A study of PO GNU gettext utilities Angular-gettext Angular Internationlization ","wordCount":"604","inLanguage":"en","datePublished":"2018-12-17T00:00:00+08:00","dateModified":"2018-12-17T00:00:00+08:00","author":{"@type":"Person","name":"Lin Liu"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://notes.linknows.fun/posts/a-study-of-po/"},"publisher":{"@type":"Organization","name":"Knows Fun","logo":{"@type":"ImageObject","url":"https://notes.linknows.fun/assets/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://notes.linknows.fun/ accesskey=h title="Knows Fun (Alt + H)">Knows Fun</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://notes.linknows.fun/>Home</a>&nbsp;»&nbsp;<a href=https://notes.linknows.fun/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">A Study of Po</h1><div class=post-meta><span title='2018-12-17 00:00:00 +0800 +0800'>December 17, 2018</span>&nbsp;·&nbsp;<span>3 min</span>&nbsp;·&nbsp;<span>Lin Liu</span>&nbsp;|&nbsp;<span>
<a href=https://github.com/kristol07/myblog/content/posts/a-study-of-po.md rel="noopener noreferrer edit" target=_blank>Suggest Changes</a></span></div></header><div class=post-content><p>#language #learn #translation</p><p>We’ll talk about the GNU Gettext and the PO format here.</p><h2 id=1-why-do-we-need-to-talk-about-this>1. Why do we need to talk about this?<a hidden class=anchor aria-hidden=true href=#1-why-do-we-need-to-talk-about-this>#</a></h2><p>I have been working on the openATTIC project for almost two months, from <a href=https://github.com/kristol07/oA_denv>building the environment</a> of a small Ceph cluster (5 nodes), to writing the <a href=https://kristol07.docs.stoplight.io/api-reference/oA-api>openATTIC RESTful API documentation</a> (UPDATE: Ceph dashboard has replaced openATTIC in SUSE-SES-6 product, check this site for <a href=https://ceph-dashboard.docs.stoplight.io/>ceph dashboard API documentation</a> ), and now merging two ‘branches’ of different features: one I call ‘enhanced’, and another ‘base’ (which is actually the master branch of the oA project).</p><p>One significant difference is the ‘enhanced’ branch is a hard-coded translated version, the translations appear directly in the source code file (almost in every html file under the /webui directory). Although these translations are good enough, well, much more better than the google translation result, but it’s not a good way for the i18n(internationalization), especially for this ‘international’ project.</p><p>So here comes the GNU Gettext and the PO format files, this is the way the master branch do, and you could find these files under the /webui/locale/ directory. They exist for this situation, where you would like to write a program in your native language, not only English, and the program should be ‘translatable’, which means any other translators can easily contribute for other versions.</p><p>In a word, the PO format file is a place where you put your translation in your language, and you can just pay a little attention to your source code file in order to internationlize a program. Easy, and elegant!</p><h2 id=2-what-are-gettext-and-po-file>2. What are Gettext and PO file?<a hidden class=anchor aria-hidden=true href=#2-what-are-gettext-and-po-file>#</a></h2><blockquote><p>The GNU `gettext’ utilities are a set of tools that provides a framework to help other GNU packages produce multi-lingual messages.</p></blockquote><p>So, Gettext is a system which helps us for the translation. And the translation file format it defines, is just the PO format.</p><h2 id=3-basic-syntax-of-the-po-format-file>3. Basic syntax of the PO format file<a hidden class=anchor aria-hidden=true href=#3-basic-syntax-of-the-po-format-file>#</a></h2><p>Example:</p><pre tabindex=0><code class=language-po data-lang=po>#: finddialog.cpp:39
msgid &#34;Gaseous Nebulae&#34;
msgstr &#34;Gasne magline&#34;`
</code></pre><p>Such a snippet is also called a message, a .po file is just a group of messages.</p><p>The first line is the source reference comment, which is a line staring with #: above the msgid “…” line. “It tells from which source file of the program code (or source document of any kind), and the line in that source file.”</p><p>The msgid string is follwed by the original string, which you want to translate into another language, and which are wrapped in double quotes.</p><p>The keyword msgstr denotes then the string which to become the translation, and you see, also double-quoted.</p><h3 id=31-string-wrapping>3.1 String wrapping<a hidden class=anchor aria-hidden=true href=#31-string-wrapping>#</a></h3><p>If a message to be translated is long, you can just wrap the original and translation strings like this example below:</p><pre tabindex=0><code class=language-po data-lang=po>#: indimenu.cpp:96
msgid &#34;&#34;
&#34;No INDI devices (...)&#34;
&#34;(...) in the devices menu.&#34;
msgstr &#34;&#34;
&#34;Nema INDI uređaja (...) u meniju uređaja.&#34;
</code></pre><h2 id=to-be-continued>To be continued…<a hidden class=anchor aria-hidden=true href=#to-be-continued>#</a></h2><p>Thoughts:</p><ul><li>When you modified a html file, if the position of the ‘translate’ tag changed, then you need to correct the .po file as well. This is inconvenient if we want to add more features in the future. -> Q: Is there any solution ?<ul><li>In Angular, the i18n support is well designed, you can use Angular CLI to ‘extract localizable text into a file that you can send out to be translated’. That means you can just collect all those strings to be translated with several commands (or just one?), this greatly free you from doing this manually. Check here for more details about how to make your app available in multiple languages.</li></ul></li></ul><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><ul><li><a href=http://pology.nedohodnik.net/doc/user/en_US/ch-about.html>A study of PO</a></li><li><a href=https://www.gnu.org/software/gettext/manual/gettext.html#Why>GNU gettext utilities</a></li><li><a href=https://angular-gettext.rocketeer.be/>Angular-gettext</a></li><li><a href=https://angular.io/guide/i18n>Angular Internationlization</a></li></ul></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=next href=https://notes.linknows.fun/posts/hello-world/><span class=title>Next »</span><br><span>Hello World</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://notes.linknows.fun/>Knows Fun</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>